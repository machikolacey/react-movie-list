{"version":3,"sources":["components/like.jsx","common/tableheader.jsx","common/tablebody.jsx","common/table.jsx","components/moviesTable.jsx","common/listGroup.jsx","common/pagenation.jsx","services/fakeGenreService.js","services/fakeMovieService.js","utils/paginate.js","common/searchBox.jsx","components/movies.jsx","common/input.jsx","common/select.jsx","common/form.jsx","services/logService.js","services/httpService.js","components/movieForm.jsx","services/genreService.js","components/customers.jsx","components/rentals.jsx","components/notfound.jsx","components/navBar.jsx","components/loginForm.jsx","components/registerForm.jsx","App.js","serviceWorker.js","index.js"],"names":["Like","props","classes","liked","onClick","style","cursor","className","aria-hidden","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","this","columns","map","key","label","Component","TableBody","renderCell","item","content","_","get","createKey","_id","data","movies","Table","MoviesTable","movie","Link","to","title","onLike","onDelete","ListGroup","items","textProperty","valueProperty","selectedItem","onItemSelect","defaultProps","Pagenation","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","console","log","pages","range","page","genres","name","genre","numberInStock","dailyRentalRate","publishDate","getMovie","id","find","m","saveMovie","movieInDb","genresAPI","g","genreId","Date","now","toString","push","deleteMovie","splice","indexOf","paginate","pageNumber","startIndex","slice","take","value","SearchBox","onChange","type","placeholder","e","currentTarget","Movies","state","searchQuery","selectedGenre","handleDelete","filter","setState","handleLike","index","handlePageChange","handleGenreSelect","handleSearch","query","handleSort","getPagedData","allMovies","filtered","toLowerCase","startsWith","orderBy","totalCount","length","count","marginBottom","Input","error","rest","htmlFor","Select","options","Array","from","option","Form","errors","validate","Joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","disabled","init","axios","interceptors","response","use","status","logger","toast","Promise","reject","post","put","delete","MovieForm","string","required","number","min","max","a","history","http","apiUrl","movieId","match","params","mapToViewModel","replace","populateGenres","populateMovie","onSubmit","renderInput","renderSelect","renderButton","Customers","Rentals","NotFound","NavBar","user","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NavLink","Fragment","LoginForm","username","password","RegisterForm","email","App","Switch","Route","component","Redirect","exact","Boolean","window","location","hostname","ReactDOM","render","BrowserRouter","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.1d7d2a72.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nconst Like = (props) => {\r\n        let classes = \"fa fa-heart\";\r\n        if(!props.liked) classes += \"-o\";\r\n        return (\r\n         <i onClick={props.onClick}\r\n        style={{ cursor:'pointer' }}\r\n        className={classes} \r\n        aria-hidden=\"true\" />\r\n     );\r\n};\r\nexport default Like;","import React, { Component } from 'react';\r\n\r\nclass TableHeader extends Component {\r\n    raiseSort = path => {\r\n        const sortColumn = {...this.props.sortColumn};\r\n        if(sortColumn.path === path)\r\n        sortColumn.order = (sortColumn.order === 'asc') ? 'desc' : 'asc';\r\n        else{\r\n            sortColumn.path=path;\r\n            sortColumn.order='asc';\r\n        }\r\n    this.props.onSort(sortColumn);\r\n    };\r\n \r\nrenderSortIcon = column => {\r\nconst {sortColumn} = this.props;\r\nif(column.path !== sortColumn.path) return null;\r\nif(sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc\"></i>;\r\nreturn <i className=\"fa fa-sort-desc\"></i>;\r\n}\r\n\r\n\r\n    render() { \r\n        return (<thead>\r\n            <tr>\r\n        {this.props.columns.map(column => \r\n        <th key={column.path || column.key} \r\n        onClick={() => this.raiseSort(column.path)}\r\n        className=\"clickable\">\r\n            {column.label}\r\n            {this.renderSortIcon(column)}\r\n            </th>)}\r\n            </tr>\r\n        </thead>  );\r\n    }\r\n}\r\n \r\nexport default TableHeader;","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\n\r\nclass TableBody  extends Component {\r\n\r\nrenderCell = (item, column) =>{\r\n    if(column.content ) return column.content(item);\r\n    return _.get(item, column.path);\r\n}\r\n\r\ncreateKey = (item, column) => {\r\n   return  item._id + (column.path || column.key );\r\n}\r\n\r\n    render() { \r\n        const { movies:data, columns } = this.props;\r\n        return ( \r\n            <tbody>\r\n                {data.map(item =>\r\n                    <tr key={item._id}>\r\n                    {columns.map(column=>\r\n                    <td key={this.createKey(item, column)}>\r\n                        {this.renderCell(item, column)}\r\n                        </td>)}   \r\n                    </tr>\r\n                 )}\r\n              \r\n            </tbody>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableBody;","import React from 'react';\r\nimport TableHeader from './tableheader';\r\nimport TableBody from './tablebody';\r\n\r\nconst Table = ( {columns, sortColumn, onSort, data}) => {\r\n    return ( \r\n        <table className=\"table\">\r\n        <TableHeader columns={columns} sortColumn = {sortColumn} onSort={onSort} />\r\n        <TableBody  columns = {columns} movies={data}  />\r\n         </table>\r\n     );\r\n}\r\n \r\nexport default Table;","import React, { Component } from 'react';\r\nimport Like from '../components/like';\r\nimport Table from '../common/table';\r\nimport _ from 'lodash';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MoviesTable extends Component {\r\n\r\n    renderCell = (item, column) =>{\r\n        if(column.content) return column.content(item);\r\n\r\n        return _.get(item, column.path);\r\n    }\r\n\r\ncolumns = [\r\n    {\r\n        path:'title', \r\n        label:'Title',\r\n    content:movie => <Link to={`/movies/${movie._id}`}>{movie.title}</Link>\r\n    },\r\n    {path:'genre.name', label:'Genre'},\r\n    {path:'numberInStock', label:'Stock'},\r\n    {path:'dailyRentalRate', label:'Rate'},\r\n    {key:'like', content: movie => (<Like liked={movie.liked} onClick={() => this.props.onLike(movie) } /> )},\r\n    {key:'delete', content: movie => (<button  onClick={()=>this.props.onDelete(movie)} className=\"btn btn-danger btn-sm\">delete</button>)}\r\n];\r\n\r\n    render() { \r\n\r\n        const { movies, onSort, sortColumn } = this.props;\r\n        return (  \r\n       <Table\r\n       columns={this.columns}\r\n       data={movies}\r\n       sortColumn={sortColumn}\r\n       onSort={onSort}\r\n       />\r\n        );\r\n\r\n\r\n    }\r\n}\r\n \r\n\r\n\r\n\r\nexport default MoviesTable;","import React from 'react';\r\n\r\nconst  ListGroup = props => {\r\n    const { items, \r\n            textProperty, \r\n            valueProperty, \r\n            selectedItem, \r\n            onItemSelect \r\n         } = props;\r\n         \r\n    return (\r\n         <ul className=\"list-group\">\r\n        { items.map(item => (\r\n         <li \r\n            onClick={()=> onItemSelect(item)}\r\n            key={item[valueProperty]}\r\n              className= { item === selectedItem ? \"list-group-item active 1\" : \"list-group-item 2\" }\r\n          >\r\n        {item[textProperty]}\r\n        </li>\r\n        ))}\r\n    </ul>\r\n);\r\n}\r\n\r\nListGroup.defaultProps = {\r\ntextProperty:'name',\r\nvalueProperty:'_id'\r\n};\r\n\r\nexport default ListGroup;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nconst Pagenation = props => {\r\nconst { itemsCount, pageSize, currentPage, onPageChange } = props;\r\nconst pagesCount = Math.ceil(itemsCount / pageSize);\r\n\r\n\r\nconsole.log(currentPage);\r\nif(pagesCount === 1) return null;\r\n\r\nconst pages = _.range(1, pagesCount + 1);\r\n\r\n    return (\r\n    <nav>\r\n        <ul className=\"pagination\">\r\n            { pages.map(page => (\r\n                <li key={page} className={page===currentPage?'page-item active':'page-item'}>\r\n                <a className=\"page-link\"\r\n                onClick={() => onPageChange(page)}\r\n                >{page}</a>\r\n                </li>\r\n            )) }\r\n           \r\n        </ul>\r\n    </nav>\r\n    );\r\n}\r\n \r\nPagenation.propTypes = {\r\n    itemsCount:PropTypes.number.isRequired, \r\n    pageSize :PropTypes.number.isRequired,\r\n    currentPage:PropTypes.number.isRequired, \r\n    onPageChange:PropTypes.func.isRequired\r\n};\r\n\r\nexport default Pagenation;\r\n\r\n\r\n/*\r\n\r\n<nav aria-label=\"Page navigation example\">\r\n  <ul class=\"pagination\">\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\r\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\r\n  </ul>\r\n</nav>\r\n*/","export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" }\n];\n\nexport function getGenres() {\n  return genres.filter(g => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n    liked:true\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5\n  }\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find(m => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find(m => m._id === movie._id) || {};\n  movieInDb.title = movie.title;\n  movieInDb.genre = genresAPI.genres.find(g => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now().toString();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find(m => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import _ from 'lodash';\r\n\r\nexport function paginate(items, pageNumber, pageSize){\r\n    const startIndex = (pageNumber -1) * pageSize;\r\n   \r\n return  _(items)\r\n        .slice(startIndex)\r\n        .take(pageSize)\r\n        .value();\r\n}","import React from \"react\";\n\nconst SearchBox = ({ value, onChange }) => {\n  return (\n    <input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder=\"Search...\"\n      value={value}\n      onChange={e => onChange(e.currentTarget.value)}\n    />\n  );\n};\n\nexport default SearchBox;\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MoviesTable from \"./moviesTable\";\r\nimport ListGroup from \"../common/listGroup\";\r\nimport Pagination from \"../common/pagenation\";\r\nimport { getMovies, deleteMovie } from \"../services/fakeMovieService\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport { paginate } from \"../utils/paginate\";\r\nimport _ from \"lodash\";\r\nimport SearchBox from \"../common/searchBox\";\r\n\r\nclass Movies extends Component {\r\n  state = {\r\n    movies: [],\r\n    genres: [],\r\n    currentPage: 1,\r\n    pageSize: 4,\r\n    searchQuery: \"\",\r\n    selectedGenre: null,\r\n    sortColumn: { path: \"title\", order: \"asc\" }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...getGenres()];\r\n\r\n    this.setState({ movies: getMovies(), genres });\r\n  }\r\n\r\n  handleDelete = movie => {\r\n    const movies = this.state.movies.filter(m => m._id !== movie._id);\r\n    this.setState({ movies });\r\n\r\n    deleteMovie(movie._id);\r\n  };\r\n\r\n  handleLike = movie => {\r\n    const movies = [...this.state.movies];\r\n    const index = movies.indexOf(movie);\r\n    movies[index] = { ...movies[index] };\r\n    movies[index].liked = !movies[index].liked;\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handlePageChange = page => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleGenreSelect = genre => {\r\n    this.setState({ selectedGenre: genre, searchQuery: \"\", currentPage: 1 });\r\n  };\r\n\r\n  handleSearch = query => {\r\n    this.setState({ searchQuery: query, selectedGenre: null, currentPage: 1 });\r\n  };\r\n\r\n  handleSort = sortColumn => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  getPagedData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      sortColumn,\r\n      selectedGenre,\r\n      searchQuery,\r\n      movies: allMovies\r\n    } = this.state;\r\n\r\n    let filtered = allMovies;\r\n    if (searchQuery)\r\n      filtered = allMovies.filter(m =>\r\n        m.title.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      );\r\n    else if (selectedGenre && selectedGenre._id)\r\n      filtered = allMovies.filter(m => m.genre._id === selectedGenre._id);\r\n\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const movies = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: movies };\r\n  };\r\n\r\n  render() {\r\n    const { length: count } = this.state.movies;\r\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\r\n\r\n    if (count === 0) return <p>There are no movies in the database.</p>;\r\n\r\n    const { totalCount, data: movies } = this.getPagedData();\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={this.state.genres}\r\n            selectedItem={this.state.selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <Link\r\n            to=\"/movies/new\"\r\n            className=\"btn btn-primary\"\r\n            style={{ marginBottom: 20 }}\r\n          >\r\n            New Movie\r\n          </Link>\r\n          <p>Showing {totalCount} movies in the database.</p>\r\n          <SearchBox value={searchQuery} onChange={this.handleSearch} />\r\n          <MoviesTable\r\n            movies={movies}\r\n            sortColumn={sortColumn}\r\n            onLike={this.handleLike}\r\n            onDelete={this.handleDelete}\r\n            onSort={this.handleSort}\r\n          />\r\n          <Pagination\r\n            itemsCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import React from 'react';\r\n\r\n\r\nconst Input = ({ name, label, error, ...rest}) => {\r\n    return ( \r\n\r\n        <div className=\"form-group\">\r\n                <label htmlFor={name}>{ label }</label>\r\n                <input   {...rest} name={name} id={name} className=\"form-control\"/>\r\n               {error &&  \r\n               <div className=\"alert alert-danger\">\r\n               {error}\r\n                </div>\r\n               }  \r\n        </div>\r\n\r\n     );\r\n}\r\n \r\nexport default Input;\r\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  options = Array.from(options);\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map(option => (\n          <option key={option._id} value={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Input from './input';\r\nimport Select from './select';\r\n\r\nclass Form extends Component {\r\n    state = { \r\n        data:{},\r\n        errors:{} \r\n    };\r\n  \r\n    validate = () => {\r\n        const options = { abortEarly: false };\r\n        const { error } = Joi.validate(this.state.data, this.schema, options);\r\n        if (!error) return null;\r\n    \r\n        const errors = {};\r\n        for (let item of error.details) errors[item.path[0]] = item.message;\r\n        return errors;\r\n      };\r\n    \r\n      validateProperty = ({ name, value }) => {\r\n        const obj = { [name]: value };\r\n        const schema = { [name]: this.schema[name] };\r\n        const { error } = Joi.validate(obj, schema);\r\n        return error ? error.details[0].message : null;\r\n      };\r\n    \r\n      handleSubmit = e => {\r\n        e.preventDefault();\r\n    console.log('handleSubmit');\r\n        const errors = this.validate();\r\n        this.setState({ errors: errors || {} });\r\n        if (errors) return;\r\n    \r\n        this.doSubmit();\r\n      };\r\n    \r\n      handleChange = ({ currentTarget: input }) => {\r\n        const errors = { ...this.state.errors };\r\n        const errorMessage = this.validateProperty(input);\r\n        if (errorMessage) errors[input.name] = errorMessage;\r\n        else delete errors[input.name];\r\n    \r\n        const data = { ...this.state.data };\r\n        data[input.name] = input.value;\r\n    \r\n        this.setState({ data, errors });\r\n      };\r\n    \r\n\r\n      renderButton(label) {\r\n        return (\r\n          <button disabled={this.validate()} className=\"btn btn-primary\">\r\n            {label}\r\n          </button>\r\n        );\r\n      }\r\n      renderInput(name, label, type='text'){\r\n        const {data, errors} = this.state;\r\n          return(\r\n            <Input \r\n            type={type}\r\n            name={name}\r\n            value={data[name]} \r\n            label={label}\r\n            onChange={this.handleChange}\r\n            error={errors[name]} />\r\n          )\r\n      }\r\n      renderSelect(name, label, options) {\r\n        const { data, errors } = this.state;\r\n    \r\n        return (\r\n          <Select\r\n            name={name}\r\n            value={data[name]}\r\n            label={label}\r\n            options={options}\r\n            onChange={this.handleChange}\r\n            error={errors[name]}\r\n          />\r\n        );\r\n      }\r\n}\r\n \r\nexport default Form;","function init() {}\n\nfunction log(error) {\n  console.error(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import axios from \"axios\";\nimport logger from \"./logService\";\nimport { toast } from \"react-toastify\";\n\naxios.interceptors.response.use(null, error => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error(\"An unexpected error occurrred.\");\n  }\n\n  return Promise.reject(error);\n});\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete\n};\n","import React from \"react\";\r\nimport Joi from \"joi-browser\";\r\nimport Form from \"../common/form\";\r\nimport { getMovie, saveMovie } from \"../services/fakeMovieService\";\r\nimport { getGenres } from \"../services/genreService\";\r\n\r\nclass MovieForm extends Form {\r\n  state = {\r\n    data: {\r\n      title: \"\",\r\n      genreId: \"\",\r\n      numberInStock: \"\",\r\n      dailyRentalRate: \"\"\r\n    },\r\n    genres: [],\r\n    errors: {}\r\n  };\r\n\r\n  schema = {\r\n    _id: Joi.string(),\r\n    title: Joi.string()\r\n      .required()\r\n      .label(\"Title\"),\r\n    genreId: Joi.string()\r\n      .required()\r\n      .label(\"Genre\"),\r\n    numberInStock: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(100)\r\n      .label(\"Number in Stock\"),\r\n    dailyRentalRate: Joi.number()\r\n      .required()\r\n      .min(0)\r\n      .max(10)\r\n      .label(\"Daily Rental Rate\")\r\n  };\r\n\r\n  async populateGenres() {\r\n    const { data: genres } = await getGenres();\r\n    this.setState({ genres });\r\n  }\r\n\r\n  async populateMovie() {\r\n    try {\r\n      const movieId = this.props.match.params.id;\r\n      if (movieId === \"new\") return;\r\n\r\n      const { data: movie } = await getMovie(movieId);\r\n      this.setState({ data: this.mapToViewModel(movie) });\r\n    } catch (ex) {\r\n      if (ex.response && ex.response.status === 404)\r\n        this.props.history.replace(\"/not-found\");\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.populateGenres();\r\n    await this.populateMovie();\r\n  }\r\n\r\n  mapToViewModel(movie) {\r\n    return {\r\n      _id: movie._id,\r\n      title: movie.title,\r\n      genreId: movie.genre._id,\r\n      numberInStock: movie.numberInStock,\r\n      dailyRentalRate: movie.dailyRentalRate\r\n    };\r\n  }\r\n\r\n  doSubmit = async () => {\r\n    await saveMovie(this.state.data);\r\n\r\n    this.props.history.push(\"/movies\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Movie Form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"title\", \"Title\")}\r\n          {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\r\n          {this.renderInput(\"numberInStock\", \"Number in Stock\", \"number\")}\r\n          {this.renderInput(\"dailyRentalRate\", \"Rate\")}\r\n          {this.renderButton(\"Save\")}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieForm;\r\n\r\n","import http from \"./httpService\";\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nexport function getGenres() {\r\n  return http.get(apiUrl + \"/genres\");\r\n}\r\n","import React from 'react';\r\n\r\nconst  Customers = () => {\r\n    return <h1>Customers</h1>;\r\n}\r\n \r\nexport default Customers;","import React from 'react';\r\n\r\nconst  Rentals = () => {\r\n    return <h1>Rentals</h1>;\r\n}\r\n \r\nexport default Rentals;","import React from 'react';\r\n\r\nconst  NotFound = () => {\r\n    return <h1>NotFound</h1>;\r\n}\r\n \r\nexport default NotFound;","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nconst NavBar = ({ user }) => {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        Vidly\r\n      </Link>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarNavAltMarkup\"\r\n        aria-controls=\"navbarNavAltMarkup\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\" />\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav\">\r\n          <NavLink className=\"nav-item nav-link\" to=\"/movies\">\r\n            Movies\r\n          </NavLink>\r\n          <NavLink className=\"nav-item nav-link\" to=\"/customers\">\r\n            Customers\r\n          </NavLink>\r\n          <NavLink className=\"nav-item nav-link\" to=\"/rentals\">\r\n            Rentals\r\n          </NavLink>\r\n          {!user && (\r\n            <React.Fragment>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/login\">\r\n                Login\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/register\">\r\n                Register\r\n              </NavLink>\r\n            </React.Fragment>\r\n          )}\r\n          {user && (\r\n            <React.Fragment>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/profile\">\r\n                {user.name}\r\n              </NavLink>\r\n              <NavLink className=\"nav-item nav-link\" to=\"/logout\">\r\n                Logout\r\n              </NavLink>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { Component } from 'react';\r\nimport Joi from 'joi-browser';\r\n\r\nimport Form from '../common/form';\r\n\r\n\r\nclass LoginForm  extends Form {\r\n\r\nstate = {\r\n    data : {username:'', password:''},\r\n    errors: {\r\n    \r\n    }  \r\n}\r\n\r\nschema = {\r\n    username: Joi.string().required().label('Username'),\r\n    password: Joi.string().required().label('Password')\r\n};\r\n\r\n\r\n\r\n\r\ndoSubmit = () => {\r\n\r\n    console.log(\"submitted\");\r\n}\r\n\r\n\r\n\r\nrender() { \r\n \r\n    return ( \r\n    <div className=\"container\">\r\n    <h1>Login</h1>\r\n    <form onSubmit={this.handleSubmit}>  \r\n     \r\n\r\n        {this.renderInput(\"username\", \"Username\")}\r\n        {this.renderInput(\"password\", \"Password\", \"password\")}\r\n        {this.renderButton('Login')}\r\n\r\n    </form>\r\n    </div>\r\n );\r\n}\r\n}\r\n \r\nexport default LoginForm;","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\", name: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .required()\n      .email()\n      .label(\"Username\"),\n    password: Joi.string()\n      .required()\n      .min(5)\n      .label(\"Password\"),\n    name: Joi.string()\n      .required()\n      .label(\"Name\")\n  };\n\n  doSubmit = () => {\n    // Call the server\n    console.log(\"Submitted\");\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Register</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"username\", \"Username\")}\n          {this.renderInput(\"password\", \"Password\", \"password\")}\n          {this.renderInput(\"name\", \"Name\")}\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React , { Component } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport Movies from './components/movies';\nimport MovieForm from './components/movieForm';\nimport Customers from \"./components/customers\";\nimport Rentals from \"./components/rentals.jsx\";\nimport NotFound from \"./components/notfound\";\nimport NavBar from \"./components/navBar\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nclass App extends Component{\n render (){\n    return (\n      <React.Fragment>\n        <ToastContainer />\n     <NavBar />\n      <main className=\"container\">\n        <Switch>\n        <Route path=\"./register\" component={RegisterForm} /> \n        <Route path=\"./login\" component={LoginForm} /> \n        <Route path=\"./movies/:id\" component={MovieForm} />  \n       <Route path=\"./movies\" component={Movies}></Route>\n       <Route path=\"./customers\" component={Customers}></Route>\n       <Route path=\"./rentals\" component={Rentals}></Route>\n       <Route path=\"./not-found\" component={NotFound}></Route>\n    <Redirect from=\"/\" exact to=\"./movies\" />\n    <Redirect to=\"not-found\" />\n    </Switch>\n\n      </main>\n      </React.Fragment>\n    );\n\n }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\n\nReactDOM.render(\n<BrowserRouter>\n<App />\n</BrowserRouter>\n, \ndocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}